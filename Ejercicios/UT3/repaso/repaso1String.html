<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Repaso</title>
</head>
<body>
    <h1>Contador Preposiciones</h1>

    <label for="texto">Ingresa un texto: </label>
    <textarea rows="5" cols="50" id="texto"></textarea>
    <button onclick="contarPreposicones()">Contar Preposiciones</button>
    <p id="resultado"></p>
    <script>
        function esPreposicion(palabra){
            var preposiciones=['a', 'ante', 'bajo', 'cabe', 'con', 'contra', 'de', 'desde', 'en', 'entre', 'hacia', 'hasta', 'para', 'por', 'según', 'sin', 'so', 'sobre', 'tras'];

            var palabraMinus=palabra.toLowerCase();

            return preposiciones.includes(palabraMinus);
        }
        function contarPreposicones(){
            var palabras=document.getElementById("texto").value.split(" ");

            var contador=0;
            var dosletras=0;
            var tresletras=0;
            var palindromas=0;
            var listaPalindromas=[];

            for(var i=0; i<palabras.length; i++){
                if(palabras[i].length==2){
                    dosletras++;
                }else if(palabras[i].length==3){
                    tresletras++;
                }
                
                if(palabras[i]==palabras[i].split("").reverse().join("") && palabras[i].length>1){
                    palindromas++;
                    listaPalindromas.push(" "+palabras[i]);
                }

                if(esPreposicion(palabras[i])){
                    contador++;
                }
            }

            document.getElementById("resultado").innerHTML="Nº preposiciones: "+contador;
            document.getElementById('resultado').innerHTML += '<br>Número de palabras totales: ' + palabras.length;
            document.getElementById('resultado').innerHTML += '<br>Número de palabras con dos letras: ' + dosletras;
            document.getElementById('resultado').innerHTML += '<br>Número de palabras con tres letras: ' + tresletras;
            document.getElementById('resultado').innerHTML += '<br>Número de palabras palindromas: ' + palindromas;
            document.getElementById('resultado').innerHTML += '<br>Lista de palindromos: ' + listaPalindromas;
        }
    </script>
</body>
</html>